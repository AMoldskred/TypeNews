(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(t,n,e){t.exports=e(79)},46:function(t,n,e){},72:function(t,n){},79:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),i=e(15),o=e.n(i),c=(e(46),e(3)),s=e(4),u=e(6),l=e(5),m=e(7),f=e(37),d=e.n(f),h=e(1),g=e(2);function b(){var t=Object(h.a)(["\n    font-size:4em;\n    color:",";\n    opacity:0.4;\n    position:fixed;\n    top:0;\n    left:0;\n    margin:.2em;\n    z-index:10;\n"]);return b=function(){return t},t}function p(){var t=Object(h.a)(["\n    color: ",";\n    text-align: center;\n     font-family: NRK Etica Slab;\n"]);return p=function(){return t},t}function w(){var t=Object(h.a)(["\n    opacity:0.6;\n    margin:0;\n    transform:scale(0.5);\n"]);return w=function(){return t},t}function x(){var t=Object(h.a)(["\n    width:100%;\n    margin:0;\n    padding:0;\n    transition:all .3s ease;\n    animation:",".3s ease;\n"]);return x=function(){return t},t}function k(){var t=Object(h.a)(["\n    font-family: NRK Etica Slab;\n    font-weight:600;\n    color:",";\n    letter-spacing:1.6;\n    text-align:center;\n"]);return k=function(){return t},t}function v(){var t=Object(h.a)(["\n    text-align:center;\n    width:50%;\n    margin:0;\n    margin-top:5px;\n    font-size:",")em;\n    color:",";\n    animation: "," 1s ease infinite;\n    letter-spacing:1.6;\n"]);return v=function(){return t},t}function j(){var t=Object(h.a)(["\n    width:95%;\n    cursor:pointer;\n    border:0;\n    font-family: NRK Etica Slab;\n    font-weight:600;\n    color:",";\n    margin:2.5%\n    padding:1em 2em;\n    font-size:1.2em;\n    margin-top:auto;\n    background:","\n"]);return j=function(){return t},t}function O(){var t=Object(h.a)(["\n    color:",";\n    text-align:center;\n    width:100%;\n    font-size:80px;\n"]);return O=function(){return t},t}function E(){var t=Object(h.a)(["\n    flex-grow:1;\n    border:0;\n    background:transparent;\n    height:90px;\n    color:",";\n    text-align:center;\n    border-radius:3px;\n    font-size:80px;\n    outline: auto;\n    display:","\n    &:focus{\n        outline:0\n    }\n"]);return E=function(){return t},t}function y(){var t=Object(h.a)(["\n    display:flex;\n    flex-direction:",";\n    height:100%;\n    background:",";\n    align-items:center;\n"]);return y=function(){return t},t}function S(){var t=Object(h.a)(["\n    display:flex;\n    flex-direction:column;\n    flex-grow: ",";\n    width: ",";\n    height:100%;\n    align-items:center;\n    background:",";\n"]);return S=function(){return t},t}function z(){var t=Object(h.a)(["\n    border:2px #ccc solid;\n    background: ",";\n    font-family: LFT Etica Bold;\n    padding: 1em 2em;\n    letter-spacing: 1.6;\n    color:",";\n    font-size:1em;\n    width:95%\n    margin:0 2.5%;\n    box-sizing:border-box;\n    ::-webkit-input-placeholder{\n        color:#ccc;\n    }\n"]);return z=function(){return t},t}function I(){var t=Object(h.a)(["\n    transform-origin: top center;\n    animation: "," .3s ease;\n    width:100%;\n"]);return I=function(){return t},t}function C(){var t=Object(h.a)(["\n    width:95%;\n    cursor:pointer;\n    border:0;\n    font-family: NRK Etica Slab;\n    font-weight:600;\n    color:",";\n    margin:2.5%\n    padding:1em 2em;\n    font-size:1.2em;\n    background:","\n"]);return C=function(){return t},t}function W(){var t=Object(h.a)(["\n     font-family: LFT Etica Slab;\n     padding:0;\n     box-sizing:border-box;\n     & > *{\n        box-sizing:border-box;\n        list-style:none;\n        width:95%;\n        cursor:pointer;\n        border:0;\n        font-family: NRK Etica Slab;\n        font-weight:600;\n        color:",";\n        margin:2.5%\n        text-align:left;\n        padding:0.5em 1em;\n        font-size:1em;\n        background:","\n     }\n"]);return W=function(){return t},t}function T(){var t=Object(h.a)(["\n    border:0;\n    display:block;\n    width:100%;\n    max-width:1000px;\n    max-height:600px;\n    overflow-y:auto;\n    background: white;\n    letter-spacing: 1.6;\n    color:",";   \n"]);return T=function(){return t},t}function F(){var t=Object(h.a)(["\n    top:initial;\n    left:initial;\n    position:initial;\n"]);return F=function(){return t},t}function L(){var t=Object(h.a)(["\n    border:0;\n    border-radius:3px;\n    background: ",";\n    font-family: LFT Etica Bold;\n    padding: 0.3em 1em;\n    letter-spacing: 1.6;\n    color:white;\n    font-size:1em;\n    height:3em;\n    width:9em;\n    ::-webkit-input-placeholder{\n        color:white;\n    }\n"]);return L=function(){return t},t}function D(){var t=Object(h.a)(["\n    margin:.5em;\n    display:block;\n    position: absolute;\n    color: ",";\n    top:0;\n    left:0;\n    font-family: ",";\n    width:calc(100% - 1em);\n    font-size:","em;\n"]);return D=function(){return t},t}function G(){var t=Object(h.a)(["\n    height:100%;\n    width:100%;\n    background: ",";\n    animation: "," ","s ease;\n    display:flex;\n    flex-direction:",";\n    justify-content:center;\n    align-items: center;\n"]);return G=function(){return t},t}function K(){var t=Object(h.a)(["\n    border-radius: 5px;\n    display:flex;\n    flex-direction:column;\n"]);return K=function(){return t},t}function N(){var t=Object(h.a)(["\n    height:100%;\n    width:100%;\n"]);return N=function(){return t},t}function R(){var t=Object(h.a)(["\n    from{filter:opacity(0)}\n    to{filter:opacity(1)}\n"]);return R=function(){return t},t}function B(){var t=Object(h.a)(["\n    0% { -webkit-transform: translate(2px, 1px) rotate(0deg); }\n\t10% { -webkit-transform: translate(-1px, -2px) rotate(-1deg); }\n\t20% { -webkit-transform: translate(-3px, 0px) rotate(1deg); }\n\t30% { -webkit-transform: translate(0px, 2px) rotate(0deg); }\n\t40% { -webkit-transform: translate(1px, -1px) rotate(1deg); }\n\t50% { -webkit-transform: translate(-1px, 2px) rotate(-1deg); }\n\t60% { -webkit-transform: translate(-3px, 1px) rotate(0deg); }\n\t70% { -webkit-transform: translate(2px, 1px) rotate(-1deg); }\n\t80% { -webkit-transform: translate(-1px, -1px) rotate(1deg); }\n\t90% { -webkit-transform: translate(2px, 2px) rotate(0deg); }\n\t100% { -webkit-transform: translate(1px, -2px) rotate(-1deg); }\n"]);return B=function(){return t},t}function J(){var t=Object(h.a)(["\n    from{transform: scaleY(0)}\n    to{transform: scaleY(1)}\n"]);return J=function(){return t},t}var M={red:"#E51C30",blue:"#00b9f2",black:"#141517",white:"#f6f6f6"},U=Object(g.b)(J()),Y=Object(g.b)(B()),$=Object(g.b)(R()),q=g.a.div(N()),A=g.a.form(K()),H=g.a.div(G(),M.white,$,function(t){return t.time?t.time:.3},function(t){return t.dir?t.dir:"column"}),P=g.a.h1(D(),function(t){return t.dark?M.black:M.blue},function(t){return t.bold?"LFT Etica Bold":"NRK Etica Slab"},function(t){return t.size?t.size:1}),Q=g.a.input(L(),M.blue),V=Object(g.a)(P)(F()),X=g.a.div(T(),M.black),Z=g.a.ul(W(),M.white,M.black),_=g.a.button(C(),function(t){return t.dark?M.white:M.black},function(t){return t.dark?M.black:M.blue}),tt=g.a.div(I(),U),nt=g.a.input(z(),M.white,M.black),et=g.a.div(S(),function(t){return t.size?t.size:1},function(t){return t.size?t.size/16+"%":1},function(t){return t.color?M[t.color]:M.white}),rt=g.a.div(y(),function(t){return t.exception?"column":"row"},function(t){return t.color?M[t.color]:M.white}),at=g.a.input(E(),M.blue,function(t){return t.display?"block":"inline"}),it=g.a.h1(O(),M.red),ot=g.a.button(j(),M.white,function(t){return t.dark?M.black:M.blue}),ct=g.a.h2(v(),function(t){return t.size?1.2*t.size:1.2},M.white,function(t){return t.size>1?Y:""}),st=g.a.h2(k(),M.white),ut=g.a.img(x(),$),lt=Object(g.a)(it)(w()),mt=g.a.h1(p(),M.blue),ft=g.a.h1(b(),M.blue),dt=function(t){function n(t){var e;return Object(c.a)(this,n),(e=Object(u.a)(this,Object(l.a)(n).call(this,t))).state={username:""},e}return Object(m.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;return a.a.createElement(H,null,a.a.createElement(P,{size:3,bold:!0},"Login"),a.a.createElement(A,{onSubmit:function(n){n.preventDefault(),null!=t.state.username&&t.props.login(t.state.username)}},a.a.createElement(Q,{onChange:function(n){t.setState({username:n.target.value})},placeholder:"Username"})))}}]),n}(r.Component),ht=function(t){function n(t){var e;return Object(c.a)(this,n),(e=Object(u.a)(this,Object(l.a)(n).call(this,t))).state={newGame:!1,roomname:""},e}return Object(m.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.socket.emit("getgames"),this.props.socket.on("games",function(n){t.setState({games:n})})}},{key:"render",value:function(){var t=this;return a.a.createElement(H,{noalign:!0},a.a.createElement(P,{size:3,dark:!0,bold:!0},"Join room"),a.a.createElement(X,null,a.a.createElement(V,{size:1.5,dark:!0,bold:!0},"Games"),a.a.createElement(_,{onClick:function(){return t.setState({newGame:!t.state.newGame})}},"Create new game"),this.state.newGame?a.a.createElement(tt,null,a.a.createElement(nt,{placeholder:"Choose a roomname",onChange:function(n){return t.setState({roomname:n.target.value})}}),a.a.createElement(_,{dark:!0,onClick:function(){return t.props.join(t.state.roomname)}},"Join ",this.state.roomname)):null,a.a.createElement(Z,null,Object.keys(this.props.games).map(function(n,e){return console.log(n),a.a.createElement("li",{key:"join-".concat(e),onClick:function(){return t.props.join(n)}},n)}))))}}]),n}(r.Component),gt=function(t){function n(t){var e;return Object(c.a)(this,n),(e=Object(u.a)(this,Object(l.a)(n).call(this,t))).state={running:!1,countdown:!1,word:!1,nextWord:"",room:{users:[]},ingameroom:{users:{}},articles:{},wordIndex:0,articleIndex:0,winner:null,timeleft:60},e}return Object(m.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this,n=this.props.socket;n.emit("getroom"),n.on("starting",function(n){var e=setInterval(function(){t.setState({countdown:t.state.countdown-1})},1e3);t.setState({countdown:3,running:!0}),setTimeout(function(){clearInterval(e);var n=setInterval(function(){t.state.timeleft>0?t.setState({timeleft:t.state.timeleft-=1}):clearInterval(n)},1e3)},3e3)}),n.on("started",function(n){t.setState({articles:n.article.articles}),t.newWord()}),n.on("room",function(n){t.setState({room:n})}),n.on("done",function(n){var e=Object.keys(n.users).sort(function(t,e){return n.users[t]>n.users[e]});t.setState({winner:e[0],running:!1}),setTimeout(function(){window.location.reload()},2e4)}),n.on("update",function(n){if(n!==t.state.ingameroom){var e=Object.keys(t.state.ingameroom.users).map(function(n){return t.state.ingameroom.users[n]}).reduce(function(t,n){return t+n},0);t.setState({ingameroom:n,aggval:e})}}),this.state.running&&this.input.focus()}},{key:"componentDidUpdate",value:function(){this.input&&this.input.focus()}},{key:"newWord",value:function(){!1!==this.state.word?(this.state.articles[this.state.articleIndex].description.length-2===this.state.wordIndex&&this.setState({articleIndex:this.state.articleIndex+=1,wordIndex:0}),this.setState({nextWord:this.state.articles[this.state.articleIndex].description[this.state.wordIndex+1],word:this.state.nextWord,wordIndex:this.state.wordIndex+1})):this.setState({word:this.state.articles[this.state.articleIndex].description[this.state.wordIndex],nextWord:this.state.articles[this.state.articleIndex].description[this.state.wordIndex+1],wordIndex:1})}},{key:"inpChange",value:function(t){t.target.value.toLowerCase()===this.state.word.toLowerCase()&&(this.props.socket.emit("updatepoint",{room:this.state.ingameroom.title}),t.target.value="",this.newWord())}},{key:"startgame",value:function(){this.props.socket.emit("start")}},{key:"render",value:function(){var t=this;return a.a.createElement(H,{dir:"row"},a.a.createElement(ft,null,this.state.timeleft,":00"),a.a.createElement(et,{size:9},null===this.state.winner?a.a.createElement(a.a.Fragment,null,a.a.createElement(rt,{exception:!0},a.a.createElement(lt,null,this.state.nextWord?this.state.nextWord:""),a.a.createElement(it,null,this.state.word?this.state.word:this.state.countdown?this.state.countdown:"Waiting...")),a.a.createElement(rt,null,a.a.createElement(at,{onChange:function(n){return t.inpChange(n)},ref:function(n){t.input=n}}))):a.a.createElement(it,null,"The winner is ",this.state.winner,"!")),a.a.createElement(et,{size:3,color:"black"},this.state.running?a.a.createElement(a.a.Fragment,null,a.a.createElement(ut,{src:this.state.articles[this.state.articleIndex]?this.state.articles[this.state.articleIndex].urlToImage:""}),a.a.createElement(mt,null,this.state.articles.length?this.state.articles[this.state.articleIndex].title:""),Object.keys(this.state.ingameroom.users).map(function(n){return a.a.createElement(ct,{size:t.state.ingameroom.users[n]/(t.state.aggval/Object.keys(t.state.ingameroom.users).length)},n,":",t.state.ingameroom.users[n])})):a.a.createElement(a.a.Fragment,null,a.a.createElement(st,null,"Users:"),this.state.room.users.map(function(t){return a.a.createElement(ct,null,t)}),a.a.createElement(ot,{onClick:function(){return t.startgame()}},"Start Game"))))}}]),n}(r.Component),bt=d()("localhost"),pt=function(t){function n(t){var e;return Object(c.a)(this,n),(e=Object(u.a)(this,Object(l.a)(n).call(this,t))).login=function(t){bt.emit("login",t),localStorage.setItem("username",t),e.setState({user:t})},e.joingame=function(t){bt.emit("joinroom",t)},e.state={user:null,ingame:!1,games:{}},e}return Object(m.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=this,n=localStorage.getItem("username");"string"===typeof n?this.login(n):this.setState({user:!1}),bt.on("games",function(n){t.setState({games:n})}),bt.on("granted",function(){t.setState({ingame:!0})}),bt.on("failed",function(){t.setState({ingame:!1})})}},{key:"render",value:function(){return a.a.createElement(q,null,this.state.ingame?a.a.createElement(gt,{socket:bt}):!1===this.state.user?a.a.createElement(dt,{login:this.login}):a.a.createElement(ht,{socket:bt,games:this.state.games,join:this.joingame}))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.36f0ed94.chunk.js.map